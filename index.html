<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Ø¥Ù„Ù‰ Ø­Ø¨ÙŠØ¨Ø© Ø¹Ù…Ø±ÙŠ Ø¨Ù†ÙˆÙ† ğŸ‘‘</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;800&family=Marhey&family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #ff0a54;
            --secondary: #ff477e;
            --bg-gradient: linear-gradient(135deg, #f9f9f9 0%, #ffc4d6 50%, #ff99ac 100%);
            --glass: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.5);
            --text-main: #590d22;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Tajawal', sans-serif;
            background: var(--bg-gradient);
            height: 100dvh; /* Ø§Ø³ØªØ®Ø¯Ø§Ù… dvh Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            overflow: hidden; 
            color: var(--text-main);
            display: flex; justify-content: center; align-items: center;
        }

        .bg-animation {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background-size: 400% 400%; animation: gradientBG 15s ease infinite;
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; }
        }

        /* Ø§Ù„ÙƒØ§Ø±Øª Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠ */
        .glass-card {
            background: var(--glass); backdrop-filter: blur(12px); border: 1px solid var(--glass-border);
            border-radius: 25px; padding: 1.5rem; width: 90%; max-width: 500px;
            max-height: 90vh; /* Ø§Ø±ØªÙØ§Ø¹ Ù…Ø±Ù† */
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15); text-align: center;
            transform: translateY(20px); opacity: 0; transition: all 0.6s ease;
        }

        .page {
            display: none; width: 100%; height: 100%;
            position: absolute; top: 0; left: 0;
            justify-content: center; align-items: center;
        }
        .page.active { display: flex; }
        .page.active .glass-card { transform: translateY(0); opacity: 1; }

        h1, h2 { font-family: 'Marhey', cursive; color: #a4133c; margin-bottom: 0.5rem; }
        
        .btn {
            background: linear-gradient(45deg, #ff0a54, #ff477e); color: white; border: none;
            padding: 12px 30px; font-size: 1rem; border-radius: 50px; cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 10, 84, 0.4); transition: 0.3s;
            font-family: 'Tajawal', sans-serif; margin: 10px 0; min-width: 140px;
        }
        .btn:hover { transform: scale(1.05); }

        input[type="password"] {
            padding: 12px; border-radius: 15px; border: 2px solid #ffccd5;
            width: 100%; text-align: center; font-size: 1.2rem; margin-bottom: 15px;
            outline: none; background: rgba(255,255,255,0.9);
        }

        .music-player {
            position: fixed; bottom: 20px; left: 20px; z-index: 100;
            width: 45px; height: 45px; background: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); cursor: pointer; border: 2px solid var(--secondary);
            animation: pulse 2s infinite;
        }
        .playing .music-disc { animation: spin 3s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0% {box-shadow: 0 0 0 0 rgba(255, 71, 126, 0.7);} 70% {box-shadow: 0 0 0 10px rgba(255, 71, 126, 0);} 100% {box-shadow: 0 0 0 0 rgba(255, 71, 126, 0);} }

        .days-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 10px; width: 100%; }
        .day-box {
            background: white; padding: 10px; border-radius: 10px; cursor: pointer;
            border: 1px solid #ffe5ec; transition: 0.3s; font-size: 0.9rem;
        }
        .day-box:hover { background: #ffe5ec; color: var(--primary); }
        .day-box.correct { background: #caffbf; border-color: #b7e4c7; }
        .day-box.wrong { background: #ffccd5; animation: shakeX 0.5s; }

        /* --- Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± --- */
        .swiper {
            width: 100%;
            height: 420px; /* Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª ÙˆÙ…Ù†Ø§Ø³Ø¨ */
            padding-top: 10px;
            padding-bottom: 20px;
        }
        .swiper-slide {
            background-color: #fff;
            width: 280px !important; /* Ø¹Ø±Ø¶ Ø«Ø§Ø¨Øª Ù„Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø¹Ø±Ø¶ */
            height: 380px !important;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 4px solid white;
        }
        .swiper-slide img {
            width: 100%;
            height: 85%;
            object-fit: contain; /* Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
            background-color: #f9f9f9;
        }
        .caption {
            height: 15%;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: var(--primary); font-size: 0.9rem;
            background: white; border-top: 1px solid #eee;
        }

        .typewriter {
            text-align: right; width: 100%; flex-grow: 1;
            min-height: 150px; max-height: 50vh; overflow-y: auto;
            font-size: 0.95rem; line-height: 1.6;
            background: rgba(255,255,255,0.85); padding: 15px; 
            border-radius: 10px; margin-bottom: 15px;
            white-space: pre-line; border: 2px solid #fff; scroll-behavior: smooth;
        }
        
        .timer-display { display: flex; justify-content: center; gap: 5px; margin: 10px 0; font-family: 'Courier New', monospace; font-weight: bold; font-size: 0.85rem; }
        .time-unit { background: #fff; padding: 4px 8px; border-radius: 8px; }

        .cursor { display: inline-block; width: 2px; background-color: var(--primary); animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
    </style>
</head>
<body>

    <div class="bg-animation"></div>
    
    <audio id="bgMusic" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div class="music-player" onclick="toggleMusic()">
        <i class="fas fa-music music-disc"></i>
    </div>

    <!-- Ø§Ù„ØµÙØ­Ø© 0: Ø§Ù„Ù‚ÙÙ„ -->
    <div id="page0" class="page active">
        <div class="glass-card animate__animated animate__zoomIn">
            <i class="fas fa-heart-lock fa-3x" style="color: var(--primary); margin-bottom: 20px;"></i>
            <h2>Ù…Ù†Ø·Ù‚Ø© Ø­Ø¨ Ù…Ø­Ø¸ÙˆØ±Ø© ğŸš«</h2>
            <p>Ø£Ø¯Ø®Ù„ÙŠ Ø³Ù†Ø© Ù…ÙŠÙ„Ø§Ø¯ÙƒÙ ÙŠØ§ Ø£Ø¬Ù…Ù„ Ø£Ù…ÙŠØ±Ø©</p>
            <input type="password" id="passcode" placeholder="****" inputmode="numeric">
            <br>
            <button class="btn" onclick="checkPass()">Ø§ÙØªØ­ÙŠ Ù‚Ù„Ø¨ÙŠ ğŸ”“</button>
            <p id="errorMsg" style="color:red; display:none; margin-top:10px;">Ø£Ù†ØªÙŠ Ù…Ùˆ Ø¨Ù†ÙŠÙ† Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ğŸ˜‘</p>
        </div>
    </div>

    <!-- Ø§Ù„ØµÙØ­Ø© 1: Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
    <div id="page1" class="page">
        <div class="glass-card">
            <div style="font-size: 3.5rem; margin-bottom: 10px;">ğŸ‘‘</div>
            <h1>Ù‡Ù„Ø§ Ø¨Ø±ÙˆØ­ÙŠ ÙˆØ³Ù†Ø¯ÙŠ</h1>
            <p>Ù‡Ù„ Ø£Ù†ØªÙ Ø¨Ù†ÙŠÙ† Ø³Ø§Ø±Ù‚Ø© Ù‚Ù„Ø¨ÙŠØŸ</p>
            <div style="position: relative; height: 100px; width: 100%; display: flex; justify-content: center; align-items: center; gap: 10px;">
                <button class="btn" onclick="nextPage(2)">â¤ï¸ Ù†Ø¹Ù…ØŒ Ø£Ø¹ØªØ±Ù</button>
                <button class="btn runaway-btn" id="noBtn" onmouseover="moveButton()">Ù„Ø§ØŒ Ø£Ù†Ø§ Ø¨Ø±ÙŠØ¦Ø©</button>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„ØµÙØ­Ø© 2: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
    <div id="page2" class="page">
        <div class="glass-card">
            <h2>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ø´Ø§Ù‚ ğŸ“</h2>
            <p>Ø´Ù†Ùˆ Ù‡Ùˆ Ø§Ù„ÙŠÙˆÙ… "Ø§Ù„Ù…Ù‚Ø¯Ø³" Ø¹Ù†Ø¯ÙŠØŸ</p>
            <div class="days-grid">
                <div class="day-box" onclick="checkDay(this, false)">Ø§Ù„Ø³Ø¨Øª</div>
                <div class="day-box" onclick="checkDay(this, false)">Ø§Ù„Ø£Ø­Ø¯</div>
                <div class="day-box" onclick="checkDay(this, false)">Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</div>
                <div class="day-box" onclick="checkDay(this, false)">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</div>
                <div class="day-box" onclick="checkDay(this, true)">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</div>
                <div class="day-box" onclick="checkDay(this, false)">Ø§Ù„Ø®Ù…ÙŠØ³</div>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„ØµÙØ­Ø© 3: Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
    <div id="page3" class="page">
        <div class="glass-card">
            <i class="fas fa-robot fa-2x" style="color: #333; margin-bottom: 10px;"></i>
            <h2>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ø¹Ø± ğŸ¤–</h2>
            <div style="background: white; padding: 15px; border-radius: 15px; text-align: right; font-size: 0.9rem; margin-bottom: 20px; line-height: 1.6;">
                "Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø¨ÙŠØ§Ù†Ø§Øª 'Ø­Ø³ÙŠÙ†'... <br>
                - Ù†Ø³Ø¨Ø© Ø§Ù„Ø­Ø¨: Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠØ© âˆ <br>
                - Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ù„Ø¨: ÙŠÙ†Ø¨Ø¶ ÙÙ‚Ø· Ù„Ù€ Ø¨Ù†ÙŠÙ†."
            </div>
            <button class="btn" onclick="nextPage(4)">Ø£Ø­Ø¨Ùƒ Ø­Ø³ÙˆÙ†ÙŠ</button>
        </div>
    </div>

    <!-- Ø§Ù„ØµÙØ­Ø© 4: Ø§Ù„Ø±Ø³Ø§Ù„Ø© -->
    <div id="page4" class="page">
        <div class="glass-card">
            <h2>Ù…Ù† Ø§Ù„ÙˆØ±ÙŠØ¯ Ù„Ù„ÙˆØ±ÙŠØ¯ ğŸ’Œ</h2>
            <div class="typewriter" id="typingArea"></div>
            <button class="btn" onclick="nextPage(5)">Ù†Ø´ÙˆÙ Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ØŸ ğŸ“¸</button>
        </div>
    </div>

    <!-- Ø§Ù„ØµÙØ­Ø© 5: Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª -->
    <div id="page5" class="page">
        <div class="glass-card" style="width: 95%;">
            <h2 style="font-family: 'Great Vibes', cursive; font-size: 2rem; margin-bottom: 5px;">Our Memories â¤ï¸</h2>
            
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <!-- Ø§Ù„ØµÙˆØ± -->
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-36-13.png" alt="1"><div class="caption">Ø­Ø¨ÙŠØ¨ØªÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-36-34.png" alt="2"><div class="caption">Ù†ÙˆØ± Ø¹ÙŠÙˆÙ†ÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-36-48.png" alt="3"><div class="caption">Ø³Ù†Ø¯ÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-37-05.png" alt="4"><div class="caption">Ø³Ø¹Ø§Ø¯ØªÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-37-23.png" alt="5"><div class="caption">Ø£Ù…ÙŠØ±ØªÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-37-33.png" alt="6"><div class="caption">Ù…Ù„Ø§ÙƒÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-39-28.png" alt="7"><div class="caption">Ø­Ø¨ÙŠØ¨Ø© Ø±ÙˆØ­ÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-41-14.png" alt="8"><div class="caption">Ù‚Ù…Ø±ÙŠ Ø§Ù„Ù…Ø¶ÙŠØ¦</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-41-23.png" alt="9"><div class="caption">Ø¨ÙˆØµÙ„Ø© Ø­ÙŠØ§ØªÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-41-33.png" alt="10"><div class="caption">Ø²ÙˆØ¬Ø§ØªÙŠ Ø§Ù„Ø§Ø±Ø¨Ø¹Ø©</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-41-41.png" alt="11"><div class="caption">ÙØ¤Ø§Ø¯ÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-41-53.png" alt="12"><div class="caption">ÙˆØªÙŠÙ†ÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-42-02.png" alt="13"><div class="caption">Ù…Ù‡Ù†Ø¯Ø³ØªÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-42-12.png" alt="14"><div class="caption"> Ø±ÙˆØ­ÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-42-22.png" alt="15"><div class="caption">Ø§ÙØ±Ø§Ø­ÙŠ ÙˆÙ…Ø³Ø±Ø§ØªÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-42-30.png" alt="16"><div class="caption">Ù…Ù„ÙƒØ© Ø¬Ù…Ø§Ù„ Ø§Ù„Ø¯Ù†ÙŠØ§</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-42-22.png" alt="17"><div class="caption">Ø­Ø¨ÙŠ Ø§Ù„Ø§Ø¨Ø¯ÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-48-44.png" alt="18"><div class="caption">Ù…ÙØ¯Ù„Ù„ØªÙŠ</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-48-55.png" alt="19"><div class="caption">Ø§Ø­Ù† Ø¨Ù†ÙˆØªÙ‡ Ø¨Ø§Ù„Ø¯Ù†ÙŠØ§</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-49-07.png" alt="20"><div class="caption">Ø¨Ù†Ø§Ù†ÙŠ Ø§Ù„Ø­Ù„ÙˆØ©</div></div>
                    <div class="swiper-slide"><img src="images/photo_2026-02-13_09-49-30.png" alt="21"><div class="caption">Ø±ÙˆØ­ Ø±ÙˆØ­ÙŠ </div></div>
                    <div class="swiper-slide"><img src="images/Screenshot 2026-02-13 093903.png" alt="22"><div class="caption"></div></div>
                    <div class="swiper-slide"><img src="images/Screenshot 2026-02-13 094256.png" alt="Ø§Ù„Ù†Ù‡Ø§ÙŠØ©"><div class="caption">Ø£Ø­Ø¨Ø¬ Ù„Ù„Ø§Ø¨Ø¯ â¤ï¸</div></div>
                </div>
            </div>

            <div class="timer-display" id="timer">Loading...</div>
            <p style="font-weight: bold; font-size: 1rem; margin-top: 5px; margin-bottom: 5px;">ØªÙ‚Ø¨Ù„ÙŠÙ† ØªÙƒÙ…Ù„ÙŠÙ† Ø§Ù„Ø·Ø±ÙŠÙ‚ ÙˆÙŠØ§ÙŠØŸ ğŸ’</p>
            <button class="btn" onclick="finalCelebrate()">ğŸ’™ Ø£ÙƒÙŠØ¯ØŒ Ø£Ù†Øª Ø±ÙˆØ­ÙŠ</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        const CONFIG = {
            passcode: "2004", 
            startDate: new Date("2023-01-01T00:00:00"), 
            loveMessage: `Ø¥Ù„Ù‰ Ø´Ø±ÙŠÙƒØ© Ø±ÙˆØ­ÙŠØŒ ÙˆØ±ÙÙŠÙ‚Ø© Ø¯Ø±Ø¨ÙŠØŒ ÙˆÙ…Ù„Ø§Ø° Ù‚Ù„Ø¨ÙŠ..
ÙŠØ§ Ù…Ù† Ø§Ø®ØªØµØ±ØªÙ ÙÙŠ Ø¹ÙŠÙ†ÙŠÙƒÙ ÙƒÙ„Ù‘Ù Ù†Ø³Ø§Ø¡ Ø§Ù„Ø£Ø±Ø¶ØŒ ÙˆØ¬Ù…Ø¹ØªÙ ÙÙŠ Ù‚Ù„Ø¨ÙƒÙ ÙƒÙ„Ù‘Ù Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„Ø±Ø­Ù…Ø© ÙˆØ§Ù„Ø³ÙƒÙ†. Ø£ÙƒØªØ¨Ù Ø¥Ù„ÙŠÙƒÙ Ø§Ù„ÙŠÙˆÙ…ØŒ Ù„Ø§ Ù„Ø£Ø®Ø¨Ø±ÙƒÙ Ø£Ù†ÙŠ Ø£Ø­Ø¨ÙƒÙØŒ ÙÙ‡Ø°Ø§ Ø£Ù…Ø±ÙŒ Ø¨Ø§ØªØª ØªØ¹Ø±ÙÙ‡ Ø¬Ø¯Ø±Ø§Ù†Ù Ø¨ÙŠØªÙ†Ø§ØŒ ÙˆØªØ³Ù…Ø¹Ù‡Ù Ù†Ø¨Ø¶Ø§ØªÙ Ù‚Ù„Ø¨ÙŠØŒ ÙˆØªØ´Ù‡Ø¯Ù Ø¹Ù„ÙŠÙ‡ Ø³Ù†ÙˆØ§ØªÙ†Ø§ Ù…Ø¹Ø§Ù‹.. Ø¨Ù„ Ø£ÙƒØªØ¨Ù Ù„Ø£Ù‚ÙˆÙ„ Ù„ÙƒÙ: Ø´ÙƒØ±Ø§Ù‹ Ù„Ø£Ù†ÙƒÙ Ø£Ù†ØªÙ.

ÙŠØ§ Ø²ÙˆØ¬ØªÙŠ Ø§Ù„ØºØ§Ù„ÙŠØ©..
Ù„Ù‚Ø¯ ÙƒÙ†ØªÙ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø§Ù„Ø¶Ù„Ø¹Ù Ø§Ù„Ø«Ø§Ø¨ØªÙ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙ…ÙŠÙ„Ù Ø­ÙŠÙ† ÙŠÙ…ÙŠÙ„Ù Ø§Ù„Ø¹Ø§Ù„Ù… ÙƒÙ„Ù‡ Ù…Ù† Ø­ÙˆÙ„ÙŠ. ÙƒÙ†ØªÙ Ø§Ù„Ø¨ÙŠØªÙ Ø§Ù„Ø°ÙŠ Ø¢ÙˆÙŠ Ø¥Ù„ÙŠÙ‡ Ø­ÙŠÙ† ØªØ¶ÙŠÙ‚Ù Ø¨ÙŠ Ø§Ù„Ø£Ù…Ø§ÙƒÙ†ØŒ ÙˆØ§Ù„Ø³ÙƒÙ†Ù Ø§Ù„Ø°ÙŠ Ø£Ø±ØªØ§Ø­Ù ÙÙŠÙ‡ Ù…Ù† Ø¹Ù†Ø§Ø¡Ù Ø§Ù„Ø­ÙŠØ§Ø©.

ÙˆÙŠØ§ Ø­Ø¨ÙŠØ¨ØªÙŠ Ø§Ù„Ø£Ø¨Ø¯ÙŠØ©..
Ù„Ù… ÙŠØ²Ø¯Ù†ÙŠ Ù…Ø±ÙˆØ±Ù Ø§Ù„Ø£ÙŠØ§Ù…Ù Ø¥Ù„Ø§ ØºØ±Ù‚Ø§Ù‹ ÙÙŠ ØªÙØ§ØµÙŠÙ„Ùƒ. ÙƒÙ„Ù‘Ù ØªØ¬Ø¹ÙŠØ¯Ø©Ù ØµØºÙŠØ±Ø© Ù‚Ø¯ ÙŠØ±Ø³Ù…Ù‡Ø§ Ø§Ù„Ø²Ù…Ù†ØŒ ÙˆÙƒÙ„Ù‘Ù Ø®ØµÙ„Ø©Ù Ø´Ø¹Ø±ØŒ Ù‡ÙŠ Ø¹Ù†Ø¯ÙŠ ØªØ§Ø±ÙŠØ®ÙŒ Ù…Ù† Ø§Ù„Ø­Ø¨ØŒ ÙˆØ´Ø§Ù‡Ø¯ÙŒ Ø¹Ù„Ù‰ Ø­ÙƒØ§ÙŠØªÙ†Ø§ Ø§Ù„ØªÙŠ Ù„Ø§ Ø£Ø±ÙŠØ¯Ù Ù„Ù‡Ø§ Ù†Ù‡Ø§ÙŠØ©. Ø­Ø¨ÙƒÙ Ù‡Ùˆ Ø§Ù„Ø²Ø§Ø¯Ù Ø§Ù„Ø°ÙŠ Ø£Ù‚ØªØ§ØªÙ Ø¹Ù„ÙŠÙ‡ Ù„Ø£ÙƒÙ…Ù„Ù Ø§Ù„Ø·Ø±ÙŠÙ‚ØŒ ÙˆÙ†ÙˆØ±Ù ÙˆØ¬Ù‡ÙƒÙ Ù‡Ùˆ Ø§Ù„ØµØ¨Ø§Ø­Ù Ø§Ù„Ø°ÙŠ Ø£Ù†ØªØ¸Ø±Ù‡Ù ÙƒÙ„Ù‘Ù ÙŠÙˆÙ….

ÙˆÙŠØ§ ØµØ¯ÙŠÙ‚ØªÙŠ Ø§Ù„ØµØ§Ø¯Ù‚Ø©..
Ø£Ù†ØªÙ Ù‡Ùˆ Ø§Ù„Ù„Ù‚Ø¨Ù Ø§Ù„Ø£Ø­Ø¨Ù Ø¥Ù„Ù‰ Ù‚Ù„Ø¨ÙŠ. Ø£Ù†ØªÙ Ø§Ù„ÙˆØ­ÙŠØ¯Ø©Ù Ø§Ù„ØªÙŠ Ø£Ø³ØªØ·ÙŠØ¹Ù Ø£Ù† Ø£ÙƒÙˆÙ†Ù Ø£Ù…Ø§Ù…Ù‡Ø§ "Ø£Ù†Ø§" Ø¨ØªØ¬Ø±Ø¯ØŒ Ø¯ÙˆÙ† Ø£Ù‚Ù†Ø¹Ø©Ù Ø£Ùˆ ØªØ¬Ù…ÙŠÙ„. Ø£Ù†ØªÙ Ø¨Ø¦Ø±Ù Ø£Ø³Ø±Ø§Ø±ÙŠØŒ ÙˆÙ…Ø±Ø¢Ø©Ù Ø±ÙˆØ­ÙŠØŒ ÙˆØ§Ù„ÙˆØ­ÙŠØ¯Ø©Ù Ø§Ù„ØªÙŠ ØªÙÙ‡Ù…Ù ØµÙ…ØªÙŠ Ù‚Ø¨Ù„ ÙƒÙ„Ø§Ù…ÙŠØŒ ÙˆØªÙ‚Ø±Ø£Ù ØªØ¹Ø¨ÙŠ Ù‚Ø¨Ù„ Ø£Ù† Ø£Ø´ØªÙƒÙŠ. Ø§Ù„Ø­Ø¯ÙŠØ«Ù Ù…Ø¹ÙƒÙ Ù‡Ùˆ Ù†Ø²Ù‡Ø©Ù Ø¹Ù‚Ù„ÙŠØŒ ÙˆØ§Ù„Ø¶Ø­ÙƒÙ Ù…Ø¹ÙƒÙ Ù‡Ùˆ Ø¹Ù„Ø§Ø¬Ù Ù‡Ù…ÙˆÙ…ÙŠ.

Ø£Ø¹ØªØ±ÙÙ Ù„ÙƒÙ.. Ø£Ù†Ù†ÙŠ Ù„ÙˆÙ„Ø§ÙƒÙ Ù„ÙƒÙ†ØªÙ ØªØ§Ø¦Ù‡Ø§Ù‹. Ø£Ù†ØªÙ Ø§Ù„Ø¨ÙˆØµÙ„Ø©Ù Ø­ÙŠÙ† Ø£Ø¶ÙŠØ¹ØŒ ÙˆØ§Ù„Ù‡Ø¯ÙˆØ¡Ù Ø­ÙŠÙ† Ø£ØºØ¶Ø¨ØŒ ÙˆØ§Ù„Ø±Ø­Ù…Ø©Ù Ø§Ù„ØªÙŠ Ø£Ø±Ø³Ù„Ù‡Ø§ Ø§Ù„Ù„Ù‡ Ù„ØªÙ…Ø³Ø­Ù Ø¹Ù„Ù‰ Ù‚Ù„Ø¨ÙŠ.

Ø£Ø¹Ø¯ÙƒÙ ÙŠØ§ Ù†Ø¨Ø¶Ù ÙØ¤Ø§Ø¯ÙŠ..
Ø£Ù† Ø£Ø¸Ù„Ù‘Ù Ù„ÙƒÙ Ø§Ù„Ø²ÙˆØ¬Ù Ø§Ù„Ù…Ø­Ø¨ØŒ ÙˆØ§Ù„Ø­Ø¨ÙŠØ¨Ù Ø§Ù„Ù…ØªÙŠÙ‘Ù…ØŒ ÙˆØ§Ù„ØµØ¯ÙŠÙ‚Ù Ø§Ù„ÙˆÙÙŠ. Ø£Ø¹Ø¯ÙƒÙ Ø£Ù† Ø£Ø­ÙØ¸Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‡Ø¯Ù Ù…Ø§ Ø¯Ø§Ù…Øª Ø§Ù„Ø±ÙˆØ­Ù ÙÙŠ Ø§Ù„Ø¬Ø³Ø¯ØŒ ÙˆØ£Ù† ØªØ¸Ù„Ù‘Ù ÙŠØ¯ÙƒÙ ÙÙŠ ÙŠØ¯ÙŠ Ø­ØªÙ‰ Ø§Ù„Ù…Ø´ÙŠØ¨ØŒ ÙˆØ­ØªÙ‰ Ø¢Ø®Ø±Ù Ù†ÙØ³.

Ø£Ø­Ø¨ÙƒÙ.. ÙŠØ§ ÙƒÙ„Ù‘Ù ÙƒÙˆÙ†ÙŠ.
Ø²ÙˆØ¬ÙƒØŒ ÙˆØ­Ø¨ÙŠØ¨ÙƒØŒ ÙˆØµØ¯ÙŠÙ‚Ùƒ â¤ï¸`
        };

        let currentPage = 0;
        const music = document.getElementById('bgMusic');
        let isMusicPlaying = false;

        function toggleMusic() {
            const player = document.querySelector('.music-player');
            const icon = document.querySelector('.music-disc');
            
            if (isMusicPlaying) {
                music.pause();
                player.classList.remove('playing');
                icon.classList.remove('fa-compact-disc');
                icon.classList.add('fa-play');
            } else {
                music.play()
                .then(() => {
                    player.classList.add('playing');
                    icon.classList.add('fa-compact-disc');
                    icon.classList.remove('fa-play');
                    isMusicPlaying = true;
                })
                .catch(error => {
                    console.log("Auto-play prevented");
                    alert("Ø§Ø¶ØºØ·ÙŠ 'Ù…ÙˆØ§ÙÙ‚' Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ğŸµ");
                    music.play();
                    isMusicPlaying = true;
                    player.classList.add('playing');
                });
            }
            isMusicPlaying = !isMusicPlaying;
        }

        function checkPass() {
            const input = document.getElementById('passcode').value;
            if (input === CONFIG.passcode) {
                music.play().then(() => {
                    isMusicPlaying = true;
                    document.querySelector('.music-player').classList.add('playing');
                }).catch(() => console.log("Music waiting for interaction"));
                
                nextPage(1);
            } else {
                const msg = document.getElementById('errorMsg');
                msg.style.display = 'block';
                msg.classList.add('animate__animated', 'animate__shakeX');
            }
        }

        function nextPage(pageIndex) {
            document.querySelector(`#page${currentPage}`).classList.remove('active');
            currentPage = pageIndex;
            const nextPage = document.querySelector(`#page${currentPage}`);
            nextPage.classList.add('active');
            
            const card = nextPage.querySelector('.glass-card');
            card.classList.remove('animate__zoomIn');
            void card.offsetWidth;
            card.classList.add('animate__animated', 'animate__zoomIn');

            if (pageIndex === 4) startTypewriter();
            if (pageIndex === 5) initSwiper();
        }

        function moveButton() {
            const btn = document.getElementById('noBtn');
            const glassCard = document.querySelector('#page1 .glass-card');
            
            const maxX = glassCard.clientWidth - btn.clientWidth - 20;
            const maxY = glassCard.clientHeight - btn.clientHeight - 20;
            
            const x = Math.random() * maxX;
            const y = Math.random() * maxY;
            
            btn.style.position = 'absolute';
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        function checkDay(element, isCorrect) {
            if (isCorrect) {
                element.classList.add('correct');
                confetti({ particleCount: 50, spread: 60, origin: { y: 0.7 } });
                setTimeout(() => nextPage(3), 1000);
            } else {
                element.classList.add('wrong');
                Swal.fire({
                    icon: 'error', title: 'Ø®Ø·Ø£! ğŸ˜±', text: 'Ø¨Ù†ÙŠÙ† Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ø§ ØªØºÙ„Ø· Ø¨Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…!', confirmButtonColor: '#ff0a54'
                });
                setTimeout(() => element.classList.remove('wrong'), 500);
            }
        }

        function startTypewriter() {
            const el = document.getElementById('typingArea');
            el.innerHTML = '';
            let i = 0;
            const text = CONFIG.loveMessage;
            const speed = 30; 
            
            function type() {
                if (i < text.length) {
                    el.textContent += text.charAt(i);
                    el.scrollTop = el.scrollHeight; 
                    i++;
                    setTimeout(type, speed);
                } else {
                    el.innerHTML += '<span class="cursor">|</span>';
                }
            }
            type();
        }

        // --- Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± ---
        function initSwiper() {
            // Ø¥Ø¶Ø§ÙØ© observer Ùˆ observeParents Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ø®ØªÙØ§Ø¡ Ø§Ù„ØµÙˆØ±
            new Swiper(".mySwiper", {
                effect: "cards",
                grabCursor: true,
                initialSlide: 0,
                centeredSlides: true, 
                slidesPerView: "auto", 
                observer: true,       // Ø¶Ø±ÙˆØ±ÙŠ: ÙŠØ±Ø§Ù‚Ø¨ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø¹Ù†ØµØ±
                observeParents: true, // Ø¶Ø±ÙˆØ±ÙŠ: ÙŠØ±Ø§Ù‚Ø¨ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø£Ø¨ (Ø§Ù„ØµÙØ­Ø©)
                cardsEffect: {
                    perSlideOffset: 10,
                    perSlideRotate: 2,
                    slideShadows: false, 
                },
            });

            setInterval(() => {
                const now = new Date();
                const diff = now - CONFIG.startDate;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                
                document.getElementById('timer').innerHTML = `
                    <div class="time-unit">${days} ÙŠÙˆÙ…</div>
                    <div class="time-unit">${hours} Ø³Ø§Ø¹Ø©</div>
                    <div class="time-unit">${minutes} Ø¯Ù‚ÙŠÙ‚Ø©</div>
                `;
            }, 1000);
        }

        function finalCelebrate() {
            const end = Date.now() + 5 * 1000;
            const colors = ['#ff0a54', '#ff477e', '#ffffff'];
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: colors });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: colors });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());

            Swal.fire({
                title: 'ÙƒÙ„ ÙŠÙˆÙ… ÙˆØ§Ù†ØªÙ Ø§ÙˆÙ„ ÙˆØ§Ø®Ø± Ø­Ø¨ Ø¨Ø­ÙŠØ§ØªÙŠ â¤ï¸',
                text: 'Ø£Ø­Ø¨Ø¬ ÙŠØ§ Ø£Ø­Ù„Ù‰ Ù†ØµÙŠØ¨',
                imageUrl: 'https://media.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif',
                imageWidth: 200,
                confirmButtonText: 'Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¨Ø¯ â™¾ï¸',
                confirmButtonColor: '#ff0a54'
            });
        }
    </script>
</body>
</html>